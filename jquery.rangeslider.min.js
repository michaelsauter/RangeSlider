(function(a){"use strict";var b,c,d,e,f,g,h;h=function(){var a,b;return a=document.createElement("input"),a.setAttribute("type","range"),b=navigator.userAgent.toLowerCase(),a.type==="range"&&b.indexOf("android")<0}(),g=function(){try{return document.createEvent("TouchEvent"),!0}catch(a){return!1}}(),e={},d={dragged:!1},f={touchDown:function(b){f.inputDeviceDown(a(b.target),b.targetTouches[0].clientX),document.addEventListener("touchmove",f.touchMove,!1),document.addEventListener("touchend",f.touchUp,!1)},touchMove:function(a){f.inputDeviceMove(a.targetTouches[0].clientX)},touchUp:function(a){return document.removeEventListener("touchmove",f.touchMove),document.removeEventListener("touchend",f.touchUp),f.inputDeviceUp(),a.preventDefault(),a.stopPropagation(),!d.dragged},mouseDown:function(b){return f.inputDeviceDown(a(b.target),b.pageX),a(document).on("mousemove",f.mouseMove),a(document).on("mouseup",f.mouseUp),!1},mouseMove:function(a){return f.inputDeviceMove(a.pageX),!1},mouseUp:function(b){return a(document).off("mousemove",f.mouseMove),a(document).off("mouseup",f.mouseUp),f.inputDeviceUp(),!1},inputDeviceDown:function(a,c){e=b.getSlider(a.parent().prev()),d.dragged=!0,d.offsetInHandle=c-e.$handle.offset().left},inputDeviceMove:function(a){b.moveHandleToPixel(a-d.offsetInHandle-e.offset)},inputDeviceUp:function(){var a,c;a=e.$handle.position().left/e.slidingWidth,c=(e.maxValue-e.minValue)*a+e.minValue,b.moveHandleToValue(e,c,!0,!0),d={dragged:!1}},inputDeviceClick:function(c){var d,f;a(c.target).hasClass("slider")&&(e=b.getSlider(a(c.target).prev()),b.moveHandleToPixel(c.pageX-e.handleWidth/2-e.offset),d=e.$handle.position().left/e.slidingWidth,f=(e.maxValue-e.minValue)*d+e.minValue,b.moveHandleToValue(e,f,!0,!0))}},b={moveHandleToPixel:function(a){var b;b=a/e.slidingWidth*e.handleMaxLeftPercentage,b=Math.min(Math.max(b,0),e.handleMaxLeftPercentage),e.$handle.css("left",b+"%")},initSliderValue:function(a,c){b.moveHandleToValue(b.getSlider(a),c,!1,!1)},moveHandleToValue:function(a,b,c,d){var e,f=a.maxValue-a.minValue;a.stepValue>0&&(b=Math.round(b/a.stepValue)*a.stepValue),e=(b-a.minValue)/f*a.handleMaxLeftPercentage,d?a.$handle.stop().animate({left:e+"%"},20):a.$handle.stop().css("left",e+"%"),c&&(a.$input.val(b),a.$input.trigger("change"))},getSlider:function(a){var b,c,d,e,f;return b=a.next(),c=b.find("div.handle"),d=b.width(),e=c.width(),f=d-e,{$slider:b,$handle:c,$input:a,minValue:parseInt(a.attr("min")||0,10),maxValue:parseInt(a.attr("max")||100,10),stepValue:parseInt(a.attr("step")||5,10),offset:b.offset().left,width:d,handleWidth:e,slidingWidth:f,handleMaxLeftPercentage:f/d*100}}},c={init:function(){var c,d;return h||(this.hide(),c=a('<div class="slider"><div class="handle"></div></div>'),this.after(c),b.initSliderValue(this,this.val()),c.on("click",f.inputDeviceClick),d=c.find("div.handle"),g?d.get(0).addEventListener("touchstart",f.touchDown,!1):d.on("mousedown",f.mouseDown)),this},get:function(){return this.val()},set:function(c,d){return h?a(this).val(c).trigger("change"):(d=typeof d!="undefined"&&d!==!1,b.moveHandleToValue(b.getSlider(a(this)),c,!0,d)),this}},a.fn.slider=function(b){return c[b]?c[b].apply(this,Array.prototype.slice.call(arguments,1)):a.error("Method "+b+" does not exist on jQuery.slider")}})(jQuery);